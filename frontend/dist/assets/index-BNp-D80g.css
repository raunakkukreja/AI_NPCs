body,html,#root{height:100%;margin:0;font-family:Arial,sans-serif}.app{display:flex;height:100vh;width:100vw;overflow:hidden}.canvas-wrap{flex:1;height:100vh;overflow:auto;position:relative;background:linear-gradient(#0b1220,#132032)}.ui{width:360px;padding:16px;background:#111827;color:#fff;box-shadow:-8px 0 24px #0006}.npc-card{margin-top:12px;padding:8px;background:#ffffff0a;border-radius:6px;min-height:80px}.dialogue-box{margin-top:8px;background:#0003;padding:8px;border-radius:4px;min-height:40px}.tutorial{position:absolute;z-index:40;left:50%;transform:translate(-50%);top:36px;background:#000c;color:#fff;padding:14px 18px;border-radius:8px;width:420px;box-shadow:0 8px 30px #00000080}.ui-panel{width:280px;height:100vh;background:#0f1724;color:#fff;padding:12px;box-shadow:-8px 0 24px #0009;z-index:20;position:relative}.chatbox{position:absolute;z-index:50;left:50%;transform:translate(-50%);bottom:28px;width:580px;background:linear-gradient(145deg,#0f172afa,#1e293bf2);color:#fff;border-radius:16px;padding:16px;box-shadow:0 20px 60px #000c,0 0 0 1px #94a3b81a;display:flex;flex-direction:column;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:chatboxSlideUp .3s ease-out}@keyframes chatboxSlideUp{0%{transform:translate(-50%) translateY(20px);opacity:0}to{transform:translate(-50%) translateY(0);opacity:1}}.chatbox-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid rgba(148,163,184,.1)}.npc-info{display:flex;align-items:center;gap:10px}.npc-avatar{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#3b82f6,#1e40af);display:flex;align-items:center;justify-content:center;font-size:18px;box-shadow:0 4px 12px #3b82f64d}.npc-details{display:flex;flex-direction:column}.npc-name{font-size:16px;font-weight:600;color:#f1f5f9;margin:0}.npc-status{font-size:12px;color:#10b981;font-weight:500}.chatbox-history{min-height:180px;max-height:280px;overflow-y:auto;padding:12px;border-radius:12px;background:#0003;margin-bottom:12px;border:1px solid rgba(148,163,184,.05)}.chatbox-history::-webkit-scrollbar{width:6px}.chatbox-history::-webkit-scrollbar-track{background:#0000001a;border-radius:3px}.chatbox-history::-webkit-scrollbar-thumb{background:#94a3b84d;border-radius:3px}.msg{margin-bottom:12px;display:flex;animation:messageSlideIn .3s ease-out}@keyframes messageSlideIn{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}.msg-player{justify-content:flex-end}.msg-bubble{max-width:75%;position:relative}.msg-text{padding:12px 16px;border-radius:18px;font-size:14px;line-height:1.4;word-wrap:break-word}.msg-player .msg-bubble{background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-bottom-right-radius:6px;box-shadow:0 4px 12px #3b82f64d}.msg-player .msg-text{color:#fff}.msg-npc .msg-bubble{background:linear-gradient(135deg,#475569cc,#334155e6);border-bottom-left-radius:6px;border:1px solid rgba(148,163,184,.1)}.msg-npc .msg-text{color:#f1f5f9}.typing-indicator{animation:pulse 1.5s infinite}.typing-dots{display:flex;gap:4px;padding:12px 16px}.typing-dots span{width:8px;height:8px;border-radius:50%;background:#94a3b8;animation:typingDot 1.4s infinite ease-in-out}.typing-dots span:nth-child(1){animation-delay:-.32s}.typing-dots span:nth-child(2){animation-delay:-.16s}@keyframes typingDot{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1);opacity:1}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.chatbox-input{display:flex;gap:10px;align-items:center}.game-input{flex:1;padding:12px 16px;border-radius:25px;border:1px solid rgba(148,163,184,.2);background:#0000004d;color:#f1f5f9;font-size:14px;transition:all .2s ease}.game-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;background:#0006}.game-input::placeholder{color:#94a3b8}.send-btn{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,#10b981,#059669);border:none;color:#fff;font-size:18px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #10b9814d}.send-btn:hover:not(:disabled){transform:scale(1.05);box-shadow:0 6px 16px #10b98166}.send-btn:active{transform:scale(.95)}.send-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.close-btn{width:32px;height:32px;border-radius:50%;background:#ef44441a;color:#ef4444;border:1px solid rgba(239,68,68,.2);font-size:16px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.close-btn:hover{background:#ef444433;transform:scale(1.1)}.canvas-wrap{width:100%;height:100vh}.world2d-viewport{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;background:linear-gradient(#0b1220,#132032)}.world2d-inner{position:absolute;background-image:linear-gradient(transparent 24px,#ffffff03 25px),linear-gradient(90deg,transparent 24px,rgba(255,255,255,.01) 25px);background-size:50px 50px}.world-entity{position:absolute;display:flex;align-items:center;justify-content:center;color:#061014;border-radius:50%;cursor:pointer;-webkit-user-select:none;user-select:none;transform:translateZ(0)}.player-entity{z-index:40}.npc-entity{z-index:30}.world-hint{position:absolute;z-index:80;background:#0009;color:#fff;padding:6px 10px;border-radius:6px;transform:translate(-50%,-50%);pointer-events:none;font-weight:600}.world-hint-temp{position:absolute;left:50%;bottom:120px;transform:translate(-50%);z-index:85;background:#b43c3ce6;color:#fff;padding:6px 10px;border-radius:6px}.minimap{position:absolute;left:12px;top:12px;z-index:90;background:#0006;padding:6px;border-radius:8px;box-shadow:0 6px 18px #0009;border:1px solid rgba(255,255,255,.03)}.minimap-box{position:fixed;left:10px;top:10px;width:200px;height:120px;z-index:300;border-radius:8px;overflow:hidden}.minimap-settings-btn{position:absolute;top:6px;right:6px;width:36px;height:36px;border-radius:8px;border:none;background:#00000073;color:#e6eef8;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:320;transition:transform .12s ease,background .12s ease;box-shadow:0 6px 14px #0006}.minimap-settings-btn svg{width:18px;height:18px;color:#cbd5e1}.minimap-settings-btn:hover{background:#000c!important;transform:scale(1.05)}.minimap-settings-btn:hover img{opacity:1!important}.minimap-settings-btn.on{background:linear-gradient(135deg,#10b9811f,#10b9810f);color:#10b981}.minimap-settings-btn.off{background:linear-gradient(135deg,#ef44440f,#ef444408);color:#ef4444}.minimap-settings-btn:focus{outline:3px solid rgba(59,130,246,.18);outline-offset:2px}.npc-card{padding:12px;border-radius:8px;background:linear-gradient(180deg,#ffffff05,#ffffff03);color:#e6eef8;min-height:120px}.npc-card-title{margin:0;font-size:20px;color:#fff;line-height:1}.npc-card-title-sub{font-size:13px;color:#cbd5e1;margin-left:6px}.npc-card-personality{margin-top:8px;color:#e2e8f0;font-size:13px}.npc-card-short{margin-top:10px;color:#cbd5e1;font-size:13px;opacity:.95}.npc-card-desc{margin-top:12px;color:#dbeafe;font-size:13px;line-height:1.35;max-width:100%}.npc-card-desc.collapsed{max-height:7.5em;overflow:hidden;position:relative}.npc-card-readmore{margin-top:8px;background:transparent;color:#7dd3fc;border:none;cursor:pointer;padding:6px 8px;font-weight:600;border-radius:6px}.opening-scene-container{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0d1117d9;display:flex;justify-content:center;align-items:center;z-index:1000;color:#c9d1d9;font-family:sans-serif}.opening-scene-box{background-color:#161b22;border:1px solid #30363d;border-radius:8px;padding:2rem 3rem;max-width:600px;text-align:center}.opening-scene-box h1{color:#58a6ff;margin-top:0}.opening-scene-box p{line-height:1.6;text-align:left}.controls-text{font-style:italic;color:#8b949e;text-align:center!important;margin-top:2rem}.begin-button{margin-top:1.5rem;padding:10px 20px;font-size:1rem;font-weight:700;color:#fff;background-color:#238636;border:1px solid #30363d;border-radius:6px;cursor:pointer;transition:background-color .2s ease}.begin-button:hover{background-color:#2ea043}.report-screen-container{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0d1117e6;display:flex;justify-content:center;align-items:center;z-index:2001;color:#c9d1d9}.report-screen-box{background-color:#161b22;border:1px solid #30363d;border-radius:8px;padding:2rem 3rem;max-width:600px;text-align:center}.report-screen-box h2{color:#58a6ff;border-bottom:1px solid #30363d;padding-bottom:10px;margin-bottom:1rem}.report-screen-box ul{list-style:none;padding:0;text-align:left}.report-screen-box li{background-color:#0d1117;padding:10px;border-radius:5px;margin-bottom:10px;border-left:3px solid #2ea043}.report-conclusion{margin-top:2rem;font-style:italic;color:#8b949e}.restart-button{margin-top:1.5rem;padding:10px 20px;font-size:1rem;font-weight:700;color:#fff;background-color:#58a6ff;border:1px solid #30363d;border-radius:6px;cursor:pointer}.submit-report-btn{position:fixed;right:14px;top:14px;z-index:1000;background:#0f1724;color:#fff;border:1px solid rgba(255,255,255,.06);padding:8px 12px;border-radius:6px;cursor:pointer;box-shadow:0 8px 20px #0006;font-weight:600}.submit-report-btn:disabled{opacity:.5;cursor:not-allowed}.walking{animation:bounce .36s infinite alternate}@keyframes bounce{0%{transform:translateY(0)}to{transform:translateY(-2px)}}.weather-container{transition:filter 1s ease-in-out}.weather-overlay-base,.weather-overlay-condition{mix-blend-mode:multiply;transition:background-color 1s ease-in-out}.weather-loading{position:relative;width:100%;height:100%}.weather-particles{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:5;overflow:hidden}.weather-particles-rain:before{content:"";position:absolute;top:-100%;left:0;right:0;bottom:0;background-image:linear-gradient(transparent 0%,transparent 5%,rgba(135,206,250,.6) 5%,rgba(135,206,250,.6) 10%,transparent 10%),linear-gradient(90deg,transparent 0%,transparent 2%,rgba(135,206,250,.4) 2%,rgba(135,206,250,.4) 4%,transparent 4%);background-size:20px 100px,30px 50px;animation:rain-fall 1s linear infinite}@keyframes rain-fall{0%{transform:translateY(-100%)}to{transform:translateY(100vh)}}.weather-particles-snow:before,.weather-particles-snow:after{content:"";position:absolute;top:-100%;left:0;right:0;bottom:0;background-image:radial-gradient(2px 2px at 20px 30px,rgba(255,255,255,.8),transparent),radial-gradient(2px 2px at 40px 70px,rgba(255,255,255,.6),transparent),radial-gradient(1px 1px at 90px 40px,rgba(255,255,255,.9),transparent),radial-gradient(1px 1px at 130px 80px,rgba(255,255,255,.7),transparent);background-repeat:repeat;background-size:200px 300px;animation:snow-fall 8s linear infinite}.weather-particles-snow:after{animation-delay:-4s;opacity:.7}@keyframes snow-fall{0%{transform:translateY(-100%) rotate(0)}to{transform:translateY(100vh) rotate(360deg)}}.weather-particles-storm:before{content:"";position:absolute;top:-100%;left:0;right:0;bottom:0;background-image:linear-gradient(transparent 0%,transparent 3%,rgba(135,206,250,.8) 3%,rgba(135,206,250,.8) 6%,transparent 6%),linear-gradient(90deg,transparent 0%,transparent 1%,rgba(135,206,250,.6) 1%,rgba(135,206,250,.6) 2%,transparent 2%);background-size:15px 80px,25px 40px;animation:storm-rain .7s linear infinite}.weather-storm-effect:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:#ffffff1a;pointer-events:none;z-index:3;animation:lightning-flash 3s infinite}@keyframes storm-rain{0%{transform:translateY(-100%) skew(-10deg)}to{transform:translateY(100vh) skew(-10deg)}}@keyframes lightning-flash{0%,90%,to{opacity:0}5%,10%{opacity:1}}.weather-fog-effect:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse 800px 600px at 50% 0%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(ellipse 1000px 800px at 0% 50%,rgba(220,220,220,.08) 0%,transparent 50%),radial-gradient(ellipse 1200px 900px at 100% 80%,rgba(255,255,255,.06) 0%,transparent 50%);animation:fog-drift 20s ease-in-out infinite alternate;pointer-events:none;z-index:3}@keyframes fog-drift{0%{transform:translate(-5%) scale(1);opacity:.8}to{transform:translate(5%) scale(1.1);opacity:.6}}.weather-rain-effect{animation:weather-darken 2s ease-in-out infinite alternate}.weather-snow-effect{animation:weather-brighten 4s ease-in-out infinite alternate}@keyframes weather-darken{0%{filter:brightness(1)}to{filter:brightness(.95)}}@keyframes weather-brighten{0%{filter:brightness(1)}to{filter:brightness(1.05)}}.weather-test-panel{position:fixed;top:10px;right:10px;background:#000c;color:#fff;padding:10px;border-radius:5px;font-size:12px;z-index:1000;display:none}.weather-test-panel.visible{display:block}.weather-test-controls{display:flex;flex-direction:column;gap:5px;margin-top:5px}.weather-test-controls button{padding:3px 6px;font-size:10px;background:#333;color:#fff;border:none;border-radius:3px;cursor:pointer}.weather-test-controls button:hover{background:#555}
